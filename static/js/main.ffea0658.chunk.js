(this["webpackJsonpcovid-19-tracker"]=this["webpackJsonpcovid-19-tracker"]||[]).push([[0],{196:function(e,t,a){"use strict";a.r(t);var n=a(4),c=a(0),s=a.n(c),r=a(8),i=a.n(r),o=(a(93),a(19)),l=a.n(o),u=a(33),d=a(15),j=(a(95),a(228)),f=a(229),h=a(230),b=a(222),v=a(226),p=a(48),x=a(227);a(51);var O=function(e){var t=e.title,a=e.isRed,c=e.isGrey,s=e.active,r=e.cases,i=e.total,o=Object(p.a)(e,["title","isRed","isGrey","active","cases","total"]);return Object(n.jsx)(b.a,{onClick:o.onClick,className:"infoBox ".concat(s&&"infoBox--selected"," ").concat(a&&"infoBox--red"," ").concat(c&&"infoBox--grey"),children:Object(n.jsxs)(v.a,{children:[Object(n.jsx)(x.a,{className:"infoBox__title",color:"textSecondary",children:t}),Object(n.jsx)("h2",{className:"infoBox__cases ".concat(!a&&"infoBox__cases--green"," ").concat(c&&"infoBox__cases--grey"),children:o.isloading?Object(n.jsx)("i",{className:"fa fa-cog fa-spin fa-fw"}):r}),Object(n.jsxs)(x.a,{className:"infoBox__total",color:"textSecondary",children:[i," ",Object(n.jsx)("span",{className:"infoBox__total_plainText",children:"TOTAL"})]})]})})},m=(a(99),a(23)),_=a.n(m);var y=function(e){var t=e.countries;return Object(n.jsx)("div",{className:"table",children:t.map((function(e){var t=e.country,a=e.cases;return Object(n.jsxs)("tr",{children:[Object(n.jsx)("td",{children:t}),Object(n.jsx)("td",{children:Object(n.jsx)("strong",{children:_()(a).format("000,000")})})]})}))})},g=a(82),w=function(e){var t=Object(g.a)(e);return t.sort((function(e,t){return t.cases-e.cases})),t},k=function(e){return e?"+".concat(_()(e).format("0.0a")):"+0"},N=a(81),C=new Date,B=new Date;C.setDate(C.getDate()-20),C.setHours(0,0,0,0);var S={legend:{display:!1},layout:{lineWidth:2},elements:{point:{radius:0}},maintainAspectRatio:!1,tooltips:{mode:"index",intersect:!1,callbacks:{label:function(e,t){return _()(e.value).format("+0,0")}}},scales:{xAxes:[{type:"time",time:{min:C,max:B,unit:"day",format:"MM/DD/YY",tooltipFormat:"ll"},ticks:{fontFamily:"'Spartan', sans-serif"}}],yAxes:[{gridLines:{display:!1},ticks:{callback:function(e,t,a){return _()(e).format("0a")},fontFamily:"'Spartan', sans-serif"}}]}},D=function(e,t){var a,n=[];for(var c in e.cases){if(a){var s={x:c,y:e[t][c]-a};n.push(s)}a=e[t][c]}return n};var T=function(e){var t=e.casesType,a=Object(p.a)(e,["casesType"]),s=Object(c.useState)({}),r=Object(d.a)(s,2),i=r[0],o=r[1];return Object(c.useEffect)((function(){(function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://disease.sh/v3/covid-19/historical/all?lastdays=120").then((function(e){return e.json()})).then((function(e){var a=D(e,t);o(a),console.log(a)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[t]),Object(n.jsx)("div",{className:a.className,children:(null===i||void 0===i?void 0:i.length)>0&&Object(n.jsx)(N.Line,{data:{datasets:[{backgroundColor:"rgba(204, 16, 52, 0.5)",borderColor:"#CC1034",data:i}]},options:S})})};var F=function(){var e=Object(c.useState)([]),t=Object(d.a)(e,2),a=t[0],s=t[1],r=Object(c.useState)("worldwide"),i=Object(d.a)(r,2),o=i[0],p=i[1],x=Object(c.useState)({}),m=Object(d.a)(x,2),_=m[0],g=m[1],N=Object(c.useState)([]),C=Object(d.a)(N,2),B=C[0],S=C[1],D=Object(c.useState)("cases"),F=Object(d.a)(D,2),L=F[0],G=F[1],R=Object(c.useState)(!1),A=Object(d.a)(R,2),E=A[0],I=A[1];Object(c.useEffect)((function(){fetch("https://disease.sh/v3/covid-19/all").then((function(e){return e.json()})).then((function(e){g(e)}))}),[]),Object(c.useEffect)((function(){(function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://disease.sh/v3/covid-19/countries").then((function(e){return e.json()})).then((function(e){var t=e.map((function(e){return{name:e.country,value:e.countryInfo.iso2}})),a=w(e);S(a),s(t)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var M=function(){var e=Object(u.a)(l.a.mark((function e(t){var a,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(!0),a=t.target.value,p(a),n="worldwide"===a?"https://disease.sh/v3/covid-19/all":"https://disease.sh/v3/covid-19/countries/".concat(a),e.next=6,fetch(n).then((function(e){return e.json()})).then((function(e){p(a),g(e),I(!1)}));case 6:console.log(_);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)("div",{className:"app",children:[Object(n.jsxs)("div",{className:"app__left",children:[Object(n.jsxs)("div",{className:"app__header",children:[Object(n.jsx)("h1",{children:"Covid-19 tracker"}),Object(n.jsx)(j.a,{className:"app__dropdown",children:Object(n.jsxs)(f.a,{variant:"outlined",onChange:M,value:o,children:[Object(n.jsx)(h.a,{value:"worldwide",children:"Global"}),a.map((function(e){return Object(n.jsx)(h.a,{value:e.value,children:e.name})}))]})})]}),Object(n.jsxs)("div",{className:"app__stats",children:[Object(n.jsx)(O,{isRed:!0,active:"cases"===L,className:"infoBox__cases",onClick:function(e){return G("cases")},title:"Cases",total:k(_.cases),cases:k(_.todayCases),isloading:E}),Object(n.jsx)(O,{active:"recovered"===L,className:"infoBox__recovered",onClick:function(e){return G("recovered")},title:"Healed",total:k(_.recovered),cases:k(_.todayRecovered),isloading:E}),Object(n.jsx)(O,{isGrey:!0,active:"deaths"===L,className:"Deaths",onClick:function(e){return G("deaths")},title:"Deaths",total:k(_.deaths),cases:k(_.todayDeaths),isloading:E})]}),Object(n.jsxs)("h3",{className:"app__graphTitle",children:["WorldWide new ",L]}),Object(n.jsx)(T,{className:"app__graph",casesType:L})]}),Object(n.jsx)(b.a,{className:"app__right",children:Object(n.jsxs)(v.a,{children:[Object(n.jsx)("h3",{children:"Live Cases by Country"}),Object(n.jsx)(y,{countries:B})]})}),Object(n.jsx)("div",{className:"visit-me",children:Object(n.jsx)("a",{href:"https://www.alexiglesias.in/#work",target:"__blank",className:"visit-me-link",children:"Go back"})})]})},L=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,232)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))};i.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(F,{})}),document.getElementById("root")),L()},51:function(e,t,a){},93:function(e,t,a){},95:function(e,t,a){},99:function(e,t,a){}},[[196,1,2]]]);
//# sourceMappingURL=main.ffea0658.chunk.js.map